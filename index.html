<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆæˆäºŒå€è§’</title>
    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            font-family: 'Arial', sans-serif;
            background: #f5f5f5 url('https://s21.ax1x.com/2025/02/20/pEQDVb9.jpg') no-repeat center center fixed;
            background-size: cover;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        /* æ·»åŠ åŠé€æ˜é®ç½©å±‚ */
        body::before {
            content: '';
            position: absolute;
            top: 320px;
            left: 50%;
            width: 400px; /* æ¸¸æˆåŒºåŸŸå®½åº¦ï¼š4ä¸ªæ ¼å­*80px + 3ä¸ªé—´éš™*10px */
            height: 600px; /* æ¸¸æˆåŒºåŸŸé«˜åº¦ï¼š4ä¸ªæ ¼å­*80px + 3ä¸ªé—´éš™*10px + è®¡åˆ†å™¨ + å…¬å¼æ˜¾ç¤º */
            background: rgba(255, 255, 255, 0.6);
            transform: translate(-50%, -50%);
            z-index: -1;
            border-radius: 20px;
        }
        /* æ¸¸æˆç½‘æ ¼ */
        .grid {
            display: grid;
            grid-template-columns: repeat(4, 80px);
            grid-template-rows: repeat(4, 80px);
            gap: 10px;
            margin: 20px 0;
        }
        
        /* æ ¼å­æ ·å¼ */
        .cell {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        /* ä¸åŒçº§åˆ«é¢œè‰² */
        .level-1 { background: #e3f2fd; }
        .level-2 { background: #bbdefb; }
        .level-3 { background: #90caf9; }
        .level-4 { background: #64b5f6; }
        .level-5 { background: #42a5f5; }
        
        /* é«˜äº®æ ·å¼ */
        .selected {
            transform: scale(1.1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        /* è®¡åˆ†å™¨ */
        .score {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }
        
/* çˆ†ç‚¸åŠ¨ç”» */
        @keyframes explode {
            0% {
                transform: scale(1);
                opacity: 1;
                background-color: #ffeb3b;
            }
            25% {
                transform: scale(1.5);
                background-color: #ff9800;
            }
            50% {
                transform: scale(2);
                background-color: #f44336;
                box-shadow: 0 0 20px 10px rgba(255, 0, 0, 0.5);
            }
            75% {
                transform: scale(1.5);
                background-color: #9c27b0;
                box-shadow: 0 0 30px 15px rgba(156, 39, 176, 0.5);
            }
            100% {
                transform: scale(1);
                opacity: 0;
                background-color: #3f51b5;
                box-shadow: 0 0 40px 20px rgba(63, 81, 181, 0.5);
            }
        }

        .explode {
            animation: explode 0.8s ease-out;
            z-index: 100;
            border-radius: 50%;
            pointer-events: none;
        }

        /* æ·»åŠ å‘å…‰é—ªçƒåŠ¨ç”» */
        @keyframes glow {
            0% {
                box-shadow: 0 0 5px #ffeb3b;
            }
            50% {
                box-shadow: 0 0 20px #ff9800, 0 0 30px #ff9800;
            }
            100% {
                box-shadow: 0 0 5px #ffeb3b;
            }
        }

        .glow {
            animation: glow 0.8s ease-in-out;
        }
        
        /* æ·»åŠ ç§»åŠ¨åŠ¨ç”» */
        @keyframes moveTo {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty));
                opacity: 0;
            }
        }

        .move {
            animation: moveTo 0.5s ease-out;
            z-index: 50;
            pointer-events: none;
        }
        
        /* å…¬å¼æ˜¾ç¤º */
        .formula-display {
            margin-top: 20px;
            padding: 10px;
            background: #fff;
            border-radius: 10px;
            width: 300px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- æ·»åŠ éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
    <button id="music-btn" style="
        position: fixed;
        top: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: #ffffff00;
        color: white;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        font-size: 24px;
    ">ğŸµ</button>
    <div class="score">å¾—åˆ†ï¼š0</div>
    <div class="grid" id="game-grid">
        <!-- 16ä¸ªæ ¼å­å°†ç”±JavaScriptç”Ÿæˆ -->
    </div>
    <div class="formula-display" id="formula-display">åˆæˆäºŒå€è§’<br><br>
         ç‚¹å‡»æ–¹å—è¿›è¡Œåˆæˆ</div>

    <script>
        // æ¸¸æˆé€»è¾‘
        const grid = document.getElementById('game-grid');
        const formulaDisplay = document.getElementById('formula-display');
        const scoreDisplay = document.querySelector('.score');
        let selectedCells = [];
        let score = 0;

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            const items = ['sinÎ±', 'cosÎ±', '1', '2'];
            const maxCount = 8; // 1å’Œ2çš„æ€»æ•°ä¸è¶…è¿‡8
            
            // ç”Ÿæˆåˆå§‹æ ¼å­å†…å®¹
            const cellContents = [];
            let count = 0;
            
            for (let i = 0; i < 16; i++) {
                let item;
                if (count < maxCount) {
                    item = items[Math.floor(Math.random() * items.length)];
                    if (item === '1' || item === '2') count++;
                } else {
                    item = Math.random() < 0.5 ? 'sinÎ±' : 'cosÎ±';
                }
                cellContents.push(item);
            }
        
            // åˆ›å»ºæ ¼å­
            cellContents.forEach(content => {
                const cell = document.createElement('div');
                cell.className = `cell level-1`;
                cell.textContent = content;
                cell.addEventListener('click', () => handleCellClick(cell));
                grid.appendChild(cell);
            });
        }
        // å¤„ç†ç‚¹å‡»äº‹ä»¶
        function handleCellClick(cell) {
            if (selectedCells.includes(cell)) {
                // å–æ¶ˆé€‰æ‹©
                cell.classList.remove('selected');
                selectedCells = selectedCells.filter(c => c !== cell);
            } else {
                if (selectedCells.length < 2) {
                    cell.classList.add('selected');
                    selectedCells.push(cell);
                    
                    if (selectedCells.length === 2) {
                        const [cell1, cell2] = selectedCells;
                        if (checkCombination(cell1, cell2) && getCombinationResult(cell1.textContent, cell2.textContent)) {
                            // è®¡ç®—ç§»åŠ¨è·ç¦»
                            const rect1 = cell1.getBoundingClientRect();
                            const rect2 = cell2.getBoundingClientRect();
                            cell1.style.setProperty('--tx', `${rect2.left - rect1.left}px`);
                            cell1.style.setProperty('--ty', `${rect2.top - rect1.top}px`);
                            
                            // æ·»åŠ ç§»åŠ¨åŠ¨ç”»
                            cell1.classList.add('move');
                            
                            // åˆæˆæˆåŠŸ
                            setTimeout(() => {
                                const result = getCombinationResult(cell1.textContent, cell2.textContent);
                                cell2.textContent = result;
                                cell2.className = `cell ${getLevelClass(result)}`;
                                cell1.textContent = getRandomItem();
                                cell1.className = `cell level-1`;
                                cell1.classList.remove('move');
                                cell1.style.removeProperty('--tx');
                                cell1.style.removeProperty('--ty');
                                showFormula(getFormula(cell1.textContent, cell2.textContent, result));
                                updateScore(getScore(result));
                                
                                // å¤„ç†é«˜çº§åˆ«åˆæˆ
                                if (result === 'sin2Î±' || result === 'cos2Î±') {
                                    cell2.classList.add('glow');
                                    setTimeout(() => {
                                        cell2.className = `cell level-3`;
                                        cell2.classList.remove('glow');
                                    }, 800);
                                    
                                }
                                if (result === 'sin4Î±' || result === 'cos4Î±') {
                                    cell2.classList.add('explode');
                                    setTimeout(() => {
                                        cell2.textContent = getRandomItem();
                                        cell2.className = `cell level-1`;
                                        cell2.classList.remove('explode');
                                    }, 1200);
                                }
                            }, 500); // ç­‰å¾…ç§»åŠ¨åŠ¨ç”»å®Œæˆ
                        } else {
                                // ä¿®å¤ï¼šç¡®ä¿äº¤æ¢ä½ç½®æ—¶ä¸¤ä¸ªæ ¼å­éƒ½æœ‰å†…å®¹
                                // è®¡ç®—ç§»åŠ¨è·ç¦»
                                const rect1 = cell1.getBoundingClientRect();
                                const rect2 = cell2.getBoundingClientRect();
                            
                                // è®¾ç½®ç§»åŠ¨æ–¹å‘
                                cell1.style.setProperty('--tx', `${rect2.left - rect1.left}px`);
                                cell1.style.setProperty('--ty', `${rect2.top - rect1.top}px`);
                                cell2.style.setProperty('--tx', `${rect1.left - rect2.left}px`);
                                cell2.style.setProperty('--ty', `${rect1.top - rect2.top}px`);
                                
                                // æ·»åŠ ç§»åŠ¨åŠ¨ç”»
                                cell1.classList.add('move');
                                cell2.classList.add('move');
                                setTimeout(() => {
                                // äº¤æ¢å†…å®¹
                                const temp = cell1.textContent;
                                cell1.textContent = cell2.textContent;
                                cell2.textContent = temp;
                                
                                // åŒæ­¥æ›´æ–°é¢œè‰²æ ·å¼
                                const tempClass = cell1.className;
                                cell1.className = cell2.className;
                                cell2.className = tempClass;
                                cell1.classList.remove('move');
                                cell2.classList.remove('move');
                                cell1.style.removeProperty('--tx');
                                cell1.style.removeProperty('--ty');
                                cell2.style.removeProperty('--tx');
                                cell2.style.removeProperty('--ty');
                            }, 200); // ç­‰å¾…åŠ¨ç”»å®Œæˆ

                            showFormula('åªæœ‰ç›¸é‚»æ ¼å­æ‰èƒ½åˆæˆï¼Œæ— æ³•åˆæˆåˆ™äº¤æ¢ä½ç½®');
                        }
                        selectedCells.forEach(c => c.classList.remove('selected'));
                        selectedCells = [];
                    }
                }
            }
        }
        // è·å–åˆæˆç»“æœ
        function getCombinationResult(item1, item2) {
            const combinations = {
                'sinÎ±+cosÎ±': 'sinÎ±cosÎ±',
                'sinÎ±+sinÎ±': 'sinÂ²Î±',
                'cosÎ±+cosÎ±': 'cosÂ²Î±',
                'sinÎ±cosÎ±+2': 'sin2Î±',
                'sinÂ²Î±+cosÂ²Î±': 'cos2Î±',
                'sinÂ²Î±+2': '2sinÂ²Î±',
                'cosÂ²Î±+2': '2cosÂ²Î±',
                '1+2sinÂ²Î±': 'cos2Î±',
                '1+2cosÂ²Î±': 'cos2Î±',
                'sin2Î±+cos2Î±': 'sin2Î±cos2Î±',
                'sin2Î±+sin2Î±': 'sinÂ²2Î±',
                'cos2Î±+cos2Î±': 'cosÂ²2Î±',
                'sin2Î±cos2Î±+2': 'sin4Î±',
                'sinÂ²2Î±+cosÂ²2Î±': 'cos4Î±',
                'sinÂ²2Î±+2': '2sinÂ²2Î±',
                'cosÂ²2Î±+2': '2cosÂ²2Î±',
                '1+2sinÂ²2Î±': 'cos4Î±',
                '1+1': '2',
                '2+2': '1',
                '1+2cosÂ²2Î±': 'cos4Î±'
            };
            return combinations[`${item1}+${item2}`] || combinations[`${item2}+${item1}`]|| 0 ;
        }
        
        // è·å–éšæœºå†…å®¹
        function getRandomItem() {
            const items = ['sinÎ±', 'cosÎ±', '1', '2'];
            return items[Math.floor(Math.random() * items.length)];
        }
        
        // è·å–çº§åˆ«æ ·å¼
        function getLevelClass(item) {
            const levels = {
                'sinÎ±': 'level-1',
                'cosÎ±': 'level-1',
                '1': 'level-1',
                '2': 'level-1',
                'sinÎ±cosÎ±': 'level-2',
                'sinÂ²Î±': 'level-2',
                'cosÂ²Î±': 'level-2',
                '2sinÂ²Î±': 'level-2',
                '2cosÂ²Î±': 'level-2',
                'cos2Î±': 'level-3',
                'sin2Î±': 'level-3',
                'sin2Î±cos2Î±': 'level-4',
                'sinÂ²2Î±': 'level-4',
                'cosÂ²2Î±': 'level-4',
                '2sinÂ²2Î±': 'level-4',
                '2cosÂ²2Î±': 'level-4',
                'cos4Î±': 'level-5',
                'sin4Î±': 'level-5'
            };
            return levels[item];
        }
        
        // è·å–åˆ†æ•°
        function getScore(item) {
            const scores = {
                'sin2Î±': 2,
                'cos2Î±': 2,
                'sin4Î±': 8,
                'cos4Î±': 8
            };
            return scores[item] || 0;
        }
        function getFormula(item1, item2, result) {
            const formulaMap = {
                'sinÎ±cosÎ±': 'sin2Î± = 2sinÎ±cosÎ±',
                'sinÂ²Î±': 'sinÂ²Î± = (1 - cos2Î±)/2',
                'cosÂ²Î±': 'cosÂ²Î± = (1 + cos2Î±)/2',
                '2sinÂ²Î±': '1 - cos2Î± = 2sinÂ²Î±',
                '2cosÂ²Î±': '1 + cos2Î± = 2cosÂ²Î±',
                'sin2Î±': 'sin2Î± = 2sinÎ±cosÎ±',
                'cos2Î±': 'cos2Î± = cosÂ²Î± - sinÂ²Î±\n= 2cosÂ²Î± - 1\n= 1 - 2sinÂ²Î±',
                'sin2Î±cos2Î±': 'sin4Î± = 2sin2Î±cos2Î±',
                'sinÂ²2Î±': 'sinÂ²2Î± = (1 - cos4Î±)/2',
                'cosÂ²2Î±': 'cosÂ²2Î± = (1 + cos4Î±)/2',
                '2sinÂ²2Î±': '1 - cos4Î± = 2sinÂ²2Î±',
                '2cosÂ²2Î±': '1 + cos4Î± = 2cosÂ²2Î±',
                'sin4Î±': 'sin4Î± = 2sin2Î±cos2Î±',
                'cos4Î±': 'cos4Î± = cosÂ²2Î± - sinÂ²2Î±\n= 2cosÂ²2Î± - 1\n= 1 - 2sinÂ²2Î±',
                '1': 'sinÂ²Î± + cosÂ²Î± = 1',
                '2': '1+1=2'
            };
            
            // å¦‚æœç›´æ¥æœ‰å¯¹åº”çš„å…¬å¼ï¼Œåˆ™è¿”å›
            if (formulaMap[result]) {
                return formulaMap[result];
            }
            
            // å¦åˆ™è¿”å›é»˜è®¤çš„åˆæˆå…¬å¼
            return `${item1} + ${item2} = ${result}`;
        }
        
        // æ£€æŸ¥ç›¸é‚»
        function checkCombination(cell1, cell2) {
            const index1 = Array.from(grid.children).indexOf(cell1);
            const index2 = Array.from(grid.children).indexOf(cell2);
            const row1 = Math.floor(index1 / 4);
            const col1 = index1 % 4;
            const row2 = Math.floor(index2 / 4);
            const col2 = index2 % 4;
            
            return Math.abs(row1 - row2) + Math.abs(col1 - col2) === 1;
        }
        
        // æ›´æ–°åˆ†æ•°
        function updateScore(points) {
            score += points;
            scoreDisplay.textContent = `å¾—åˆ†ï¼š${score}`;
        }
        
        // æ˜¾ç¤ºå…¬å¼
        function showFormula(formula) {
            formulaDisplay.textContent = formula;
        }
        
        // åˆå§‹åŒ–æ¸¸æˆ
        initGame();
    </script>

<!-- æ·»åŠ ç½²å -->
<div style="
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
    color: #666;
    font-family: Arial, sans-serif;
    background: rgba(255, 255, 255, 0.8); /* æ·»åŠ åŠé€æ˜èƒŒæ™¯ */
    padding: 8px 16px; /* æ·»åŠ å†…è¾¹è· */
    border-radius: 8px; /* æ·»åŠ åœ†è§’ */
">
@ä¸‡èƒ½é’å¹´åˆ˜å¤§èƒ½ <br> ACE of SEASON
</div>



</body>
</html>



<script>

const bgImages = [
        'https://s21.ax1x.com/2025/02/20/pEQysqe.png',
        'https://s21.ax1x.com/2025/02/20/pEQy6VH.png',
        'https://s21.ax1x.com/2025/02/20/pEQycad.png'
    ];
    const randomBg = bgImages[Math.floor(Math.random() * bgImages.length)];
    document.body.style.backgroundImage = `url('${randomBg}')`;



        // éŸ³ä¹æ§åˆ¶é€»è¾‘
        const musicBtn = document.getElementById('music-btn');
        let isPlaying = false;
        let audio;

        // åˆå§‹åŒ–éŸ³ä¹
        function initMusic() {
            audio = new Audio('http://music.163.com/song/media/outer/url?id=2618394698.mp3');
            audio.loop = true;
        }

        // åˆ‡æ¢æ’­æ”¾çŠ¶æ€
        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                musicBtn.textContent = 'ğŸµ';
            } else {
                audio.play();
                musicBtn.textContent = 'â¸ï¸';
            }
            isPlaying = !isPlaying;
        }

        // åˆå§‹åŒ–éŸ³ä¹
        initMusic();
        musicBtn.addEventListener('click', toggleMusic);
    </script>

</body>
</html>


